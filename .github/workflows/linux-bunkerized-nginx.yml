name: Automatic test for Linux

on:
  push:
    branches: [dev, master]
  pull_request:
    branches: [dev, master]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout source code
        uses: actions/checkout@v2
      - name: Debian test
        run: ./tests/linux-run.sh debian:buster-slim test-debian
      - name: Ubuntu test
        run: ./tests/linux-run.sh ubuntu:focal test-ubuntu
      - name: CentOS test
        run: ./tests/linux-run.sh centos:7 test-centos
      - name: Fedora test
        run: ./tests/linux-run.sh fedora:34 test-fedora
